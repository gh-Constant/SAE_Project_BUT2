model Role {
  id_role    Int       @id @default(autoincrement())
  name       String?   @db.VarChar(255)

  created_at DateTime? @default(now()) @db.DateTime(0)
  updated_at DateTime? @updatedAt @db.DateTime(0)

  users      User[]

  @@map("roles")
}

model User {
  id_user         Int       @id @default(autoincrement())
  firstname       String?   @db.VarChar(255)
  lastname        String?   @db.VarChar(255)
  birth_date      DateTime  
  bio             String?   @db.Text

  phone           String?   @db.Char(20)
  email           String?   @db.VarChar(255)

  avatar_url      String?   @db.VarChar(255)
  level           Int?
  xp              Float?    @db.Double

  is_verified     Boolean?
  password_hashed String?   @db.Text

  created_at      DateTime? @default(now()) @db.DateTime(0)
  updated_at      DateTime? @updatedAt @db.DateTime(0)
  
  id_role         Int

  role        Role         @relation(fields: [id_role], references: [id_role])
  prestataire Prestataire? 
  userQuests  UserQuest[]
  commandes    Commande[]
  lignesPanier LignePanier[]


  @@index([id_role])
  @@map("users")
}